<template>
    <div>
        <LogoutTopTitle/>
        <div class="main-banner">
            <div class="main-banner-content">
                <h1>ë‚˜ëˆ” ê´‘ì¥</h1>
                <div class="subtitle">í•„ìš” ì—†ëŠ”<span class="braket">[</span>
                    <div class="text-animation">
                        <span class="label">
                            <span class='letter'></span>
                            <span class='letter'></span>
                            <span class='letter'></span>
                            <span class='letter'></span>
                            <span class='letter'></span>
                            <span class='letter'></span>
                            <span class='letter'></span>
                        </span>
                    </div>
                <span class="braket">]</span>ë„ ì£¼ì¸ ì°¾ì•„ì£¼ê¸°</div>
                <div class="banner-button">
                    <a @click="() => {this.$router.push({path:'/map'})}" class="button">í•„ìš” ì—†ëŠ” ë¬¼ê±´ ë‚˜ëˆ ì£¼ê¸°</a>
                    <a @click="() => {this.$router.push({path:'/map'})}" class="button">í•„ìš”í•œ ë¬¼ê±´ ì°¾ì•„ë³´ê¸°</a>
                </div>
            </div>
        </div>
        <section class="content">
            <article class="about">
                <h1>ë‚˜ëˆ” ê´‘ì¥ì´ ë¬´ì—‡ì¸ê°€ìš”?</h1>
                <p>ë‚˜ëˆ” ê´‘ì¥ì€ ì§€ì—­ ê¸°ë°˜ì˜ ë¬¼ê±´ ì¬í™œìš© ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.</p>
                <p>ìŠ¤í‹°ë¡œí¼ì´ë‚˜ ì•„ì´ìŠ¤íŒ© ë“± ì¼íšŒìš©í’ˆë¶€í„° í•„ìš” ì—†ëŠ” ë¬¼ê±´ê¹Œì§€ í•„ìš”í•œ ì‚¬ëŒì—ê²Œ ì „ë‹¬í•˜ì—¬ ì¬ì‚¬ìš©ì„ ì§€ì›í•˜ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.</p>
            </article>
            <article class="share-list-area">
                <div class="share-list">
                    <h1>ğŸ‘“ ì§€ê¸ˆ ê³µìœ  ì¤‘ì¸ ë¬¼ê±´ë“¤</h1>
                    <div class="listview">
                        <div class="item"></div>
                        <div class="item"></div>
                        <div class="item"></div>
                        <div class="item"></div>
                    </div>
                </div>
            </article>
            <article class="pr">
                <div>
                    <img alt="ë¹ˆ ì¢…ì´ë°•ìŠ¤ ê·¸ë¦¼" src="../assets/main-emptybox.jpg"/>
                    <h2>íƒë°° ë°›ê³  ë‚¨ì€ ì¢…ì´ë°•ìŠ¤</h2>
                    <p>ëˆ„êµ°ê°€ëŠ” í•„ìš”í•  ì¢…ì´ë°•ìŠ¤ì™€ ì•„ì´ìŠ¤íŒ©</p>
                    <img alt="ìì·¨ë°© ê·¸ë¦¼" src="../assets/main-room.jpg"/>
                    <h2>ìì·¨ë°© ì²˜ì§€ê³¤ë€ ë¬¼í’ˆ</h2>
                    <p>ìì·¨ë°© ì •ë¦¬í•˜ë©° ë²„ë¦´ê¹Œ ê³ ë¯¼ë˜ëŠ” í…Œì´ë¸”ê³¼ ì²­ì†Œê¸°</p>
                    <img alt="ì˜· ê·¸ë¦¼" src="../assets/main-recycle.jpg"/>
                    <h2>ë²„ë¦¬ê¸´ ì•„ê¹Œìš´ ë¬¼ê±´ë“¤</h2>
                    <p>ì—ì½”ë°±ê³¼ í…€ë¸”ëŸ¬ ìŒ“ì´ëŠ”ë° ì“¸ë°ëŠ” ì—†ë‹¤</p>
                </div>
                <div class="right-area">
                    <span class="colorbar"></span>
                    <h1 class="right">ğŸ¤” ì–´ë–¤ ë¬¼ê±´ì„ ê³µìœ í•˜ì§€?</h1>
                </div>
            </article>
            <article class="mirror">
                <div class="pr">
                    <div class="left-area">
                        <span class="colorbar colorbar-reverse"></span>
                        <h1 class="left">ì´ëŸ° ë¬¼ê±´ì´ í•„ìš”í•˜ë‹¤ë©´ ğŸ˜†</h1>
                    </div>
                    <div class="right-flex">
                        <img alt="íƒë°°ë°•ìŠ¤ ê·¸ë¦¼" src="../assets/main-newbox.jpg"/>
                        <h2>íƒë°° ë³´ë‚¼ ë•Œ í•„ìš”í•œ ì¢…ì´ë°•ìŠ¤</h2>
                        <p>í•„ìš”í•  ë• ê¼­ ì—†ëŠ” ì¢…ì´ë°•ìŠ¤ë‚˜ ìŠ¤í‹°ë¡œí¼ë°•ìŠ¤</p>
                        <img alt="ìì·¨ë°© ê·¸ë¦¼" src="../assets/main-kitchen.jpg"/>
                        <h2>ëˆ„ê°€ ì£¼ë©´ ëƒ‰í¼ ë°›ëŠ” ìì·¨ìš© ê°€êµ¬</h2>
                        <p>ë°¥ìƒìš© í…Œì´ë¸”ì´ë‚˜ ì˜ìëŠ” ì‚¬ë ¤ë©´ ë¹„ì‹¸</p>
                        <img alt="ì˜· ê·¸ë¦¼" src="../assets/main-cloth.jpg"/>
                        <h2>ëˆ„êµ°ê°€ì˜ ì‚¬ì´ì¦ˆ ì•ˆ ë§ëŠ” ì˜·</h2>
                        <p>ì‚¬ì´ì¦ˆë¥¼ ë§ì¶”ì§€ ë§ê³  ì£¼ì¸ì„ ë°”ê¾¸ë©´ ë¼</p>
                    </div>
                </div>
            </article>
            <article class="start">
                <h1>ë‚˜ëˆ” ê´‘ì¥ ì‹œì‘í•˜ê¸°</h1>
                <a @click="() => {this.$router.push({path:'/signup'})}">ì—¬ê¸°ë¥¼ ëˆŒëŸ¬ íšŒì›ê°€ì…</a>
            </article>
            <footer class="footer">
                <p>Crafted by íŒ€ <u>ìë°”ì„¬ ì„¸ì–¼ê°„ì´</u></p>
            </footer>
        </section>
    </div>
</template>

<script>
import LogoutTopTitle from '@/components/LogoutTopTitle.vue';
import anime from 'animejs/lib/anime.es.js';

export default {
    mounted() {
        function setLabel(label) {
            const emojiRegex = /(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;
            const bannerLabel = document.querySelector('.text-animation>.label');
            if (!bannerLabel) return;
            const letters = Array.prototype.slice.call(bannerLabel.children);
            let l = 0;
            for (const letter of letters) {
                if (l < label.length - 1 && emojiRegex.test(label[l] + label[l + 1])) {
                    letter.innerText = label[l] + label[l + 1];
                    l += 2;
                } else if (l < label.length) {
                    letter.innerText = label[l];
                    l++;
                } else {
                    letter.innerText = '';
                }
            }
        }

        const labels = [
            'ğŸ“¦ì¢…ì´ë°•ìŠ¤',
            'ğŸ§Šì•„ì´ìŠ¤íŒ©',
            'ğŸ‘œì—ì½”ë°±',
            'ğŸ‘•í‹°ì…”ì¸ ',
            'ğŸ§ºë°”êµ¬ë‹ˆ',
            'ğŸ§»í™”ì¥ì§€',
        ];
        let labelNowIndex = 0;

        setLabel(labels[labelNowIndex]);

        anime.timeline({
            loop: true,
            loopComplete: function() {
                labelNowIndex++;
                if (labels.length <= labelNowIndex)
                    labelNowIndex = 0;
                setLabel(labels[labelNowIndex]);
            }
        }).add({
            targets: '.label .letter',
            translateY: [-20,0],
            opacity: [0, 1],
            easing: "easeOutExpo",
            duration: 500,
            delay: (el, i) => 60 * i
        }).add({
            targets: '.label .letter',
            translateY: 0,
            opacity: 1,
            duration: 1000,
            delay: (el, i) => 60 * i
        }).add({
            targets: '.label .letter',
            translateY: [0,10],
            opacity: 0,
            duration: 500,
            easing: "easeOutExpo",
            delay: (el, i) => 60 * i,
        });
    },
    beforeUnmount() {
        anime.remove(".label .letter");
    },
    name:"MainPage",
    components: {
        LogoutTopTitle
    }
};
</script>

<style scoped>
.main-banner {
    background-color:lightblue;
    width: 100%;
    height: 450px;
    padding-top: 50px;
}
.main-banner-content {
    max-width: 960px;
    margin: 100px auto 0;
}
.main-banner h1 {
    font-size: 48px;
    margin: 0 0;
}
.main-banner .subtitle {
    margin-top: 20px;
    font-size: 24px;
    font-weight: bold;
}
.main-banner .braket {
    display: inline-block;
    color: #555555;
    opacity: 0.4;
    margin: 0 4px;
}
.banner-button {
    margin-top: 60px;
}
.banner-button a {
    display: inline-block;
    margin-right: 16px;
    padding: 8px 20px;
    color: white;
    background-color: black;
    border-radius: 20px;
}
.banner-button a:hover {
    cursor: pointer;
    color: #5EDB97;
}

.text-animation {
    display: inline-block;
    width: 160px;
    margin: 0 10px;
    text-align: center;
}
.text-animation .label {
    display: inline-block;
}
.text-animation .label>.letter {
    display: inline-block;
}

.content {
    width: 100%;
}
.content>article {
    width: 960px;
    margin: 60px auto 0;
}
.content>article h1 {
    font-size: 24px;
    margin: 0;
    margin-bottom: 20px;
}

.about p {
    margin: 0 0;
    font-size: 16px;
    line-height: 1.8;
    color: #555555;
}

.content>.share-list-area {
    background-color: #f8f9fa;
    width: 100%;
    padding: 40px 0;
}
.share-list {
    width: 960px;
    margin: 0 auto;
}
.share-list .listview {
    display: flex;
    margin: 30px -10px;
}
.share-list .listview>.item {
    background-color: white;
    display: inline-block;
    width: 100%;
    height: 240px;
    margin: 0 10px;
    border: 1px solid #6BD69C;
}

.pr {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin: 0 auto;
    width: 960px;
}
.pr> div {
    width: 400px;
}
.pr .right-area {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    position: sticky;
    top: 80px;
}
.pr .right {
    width: 230px;
    font-size: 32px;
    text-align: right;
    word-break: keep-all;
}
.pr h2 {
    font-size: 20px;
    margin-bottom: 6px;
}
.pr p {
    margin: 0 0;
    font-size: 16px;
    color: #555555;
}
.pr img {
    width: 300px;
    margin-top: 40px;
    border-radius: 16px;
}

.content>.mirror {
    width: 100%;
    background-color: #f8f9fa;
    padding: 40px 0;
}
.pr .left-area {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    position: sticky;
    top: 80px;
}
.pr .left {
    width: 220px;
    font-size: 32px;
    word-break: keep-all;
}
.mirror .right-flex {
    text-align: right;
}

.start {
    background-color: #6BD69C;
    width: 100%;
    padding: 20px;
    border-radius: 16px;
    color: white;
    text-align: center;
    box-sizing: border-box;
}
.start a {
    cursor: pointer;
    text-decoration: underline;
}

.footer {
    margin-top: 120px;
    padding: 0 0 40px;
    text-align: center;
}
.footer p {
    color: #555555;
    font-size: 14px;
}

.colorbar {
    background: linear-gradient(to right, #BFF7B0, #6BD69C);
    display: inline-block;
    width: 80px;
    height: 4px;
    margin-bottom: 8px;
    border-radius: 2px;
}
.colorbar-reverse {
    background: linear-gradient(to right, #6BD69C, #BFF7B0);
}

</style>